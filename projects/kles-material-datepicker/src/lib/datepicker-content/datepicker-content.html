<div cdkTrapFocus role="dialog" [attr.aria-modal]="true" [attr.aria-labelledby]="_dialogLabelId ?? undefined"
    class="mat-datepicker-content-container"
    [class.mat-datepicker-content-container-with-custom-header]="datepicker.calendarHeaderComponent"
    [class.mat-datepicker-content-container-with-actions]="_actionsPortal">

    <mat-calendar [id]="datepicker.id" [ngClass]="datepicker.panelClass" [startAt]="datepicker.startAt"
        [startView]="datepicker.startView" [minDate]="datepicker._getMinDate()" [maxDate]="datepicker._getMaxDate()"
        [dateFilter]="datepicker._getDateFilter()" [headerComponent]="datepicker.calendarHeaderComponent"
        [selected]="calendarValue" [dateClass]="datepicker.dateClass" [comparisonStart]="comparisonStart"
        [comparisonEnd]="comparisonEnd" [@fadeInCalendar]="'enter'" (yearSelected)="datepicker._selectYear($event)"
        (monthSelected)="datepicker._selectMonth($event)" (viewChanged)="datepicker._viewChanged($event)"
        (_userSelection)="_handleUserSelection($event)"></mat-calendar>

    <ng-template [cdkPortalOutlet]="_actionsPortal"></ng-template>

    <mat-divider></mat-divider>


    <kles-time-picker [value]="timeValue"
        (timeChanged)="datepicker._selectTime($event); _handleUserTimeSelection($event);"
        [selection]="calendarValue"></kles-time-picker>

    <div class="buttons">
        <button type="button" mat-raised-button [color]="color || 'primary'" (focus)="_closeButtonFocused = true"
            (blur)="_closeButtonFocused = false" (click)="close()">{{ _closeButtonText }}</button>
    </div>


</div>